1. When a user takes a picture, that picture is stored in a path based on the given
URI. In which part of the code handles this? (Copy that part of the code as the
answer)
Potongan kode yang menangani penyimpanan file (copy ke MediaStore):
private fun insertToStore(fileInfo: FileInfo, contentUri: Uri, contentValues: ContentValues) {
    executor.execute {
        val insertedUri = contentResolver.insert(contentUri, contentValues)
        insertedUri?.let {
            val inputStream = contentResolver.openInputStream(fileInfo.uri)
            val outputStream = contentResolver.openOutputStream(insertedUri)
            IOUtils.copy(inputStream, outputStream)
        }
    }
}

Dan proses generate file + URI sebelum disimpan:
fun generatePhotoUri(time: Long): FileInfo {
    val name = "img_$time.jpg"
    val file = File(
        context.getExternalFilesDir(fileHelper.getPicturesFolder()),
        name
    )
    return FileInfo(
        fileHelper.getUriFromFile(file),
        file,
        name,
        fileHelper.getPicturesFolder(),
        "image/jpeg"
    )
}


2. In your FileInfo.kt, there are 5 attributes. On the first attribute, what does the URI
refer to? And on the fourth attribute, what does relativePath refer to?
• uri (atribut pertama)

uri adalah alamat aman (content://) yang diberikan oleh FileProvider untuk mengakses file.
URI ini digunakan kamera untuk menulis hasil foto/video.

Intinya:
➡ URI = link aman ke file yang dipakai kamera + MediaStore.
• relativePath (atribut keempat)

relativePath adalah lokasi folder tempat file akan disimpan di MediaStore, misalnya:

"Pictures/" untuk foto

"Movies/" untuk video

Intinya:
➡ relativePath = folder tujuan penyimpanan di MediaStore (muncul di Gallery).


3. [Bonus] Explain the chronological order from when a user takes a picture until
the file is stored in the MediaStore.
Chronological flow:

User klik tombol Photo
→ MainActivity mendeteksi user ingin ambil foto.

App generate FileInfo
→ generatePhotoUri() membuat file kosong + URI FileProvider.

Camera app diluncurkan
→ takePictureLauncher.launch(uri)
Kamera diberikan URI sebagai tempat menulis file.

User ambil foto
→ Kamera menyimpan foto ke file sementara lewat URI FileProvider.

Callback dipanggil
→ Setelah foto selesai, insertImageToStore(photoInfo) dijalankan.

File disalin ke MediaStore
→ insertToStore():

Buat entry file baru di MediaStore

Copy hasil foto dari URI FileProvider → MediaStore

Foto muncul di Gallery
→ Karena MediaStore adalah storage publik.

Singkatnya:
Button → Generate URI → Kamera → Write file → Copy ke MediaStore → Tersimpan permanen.

